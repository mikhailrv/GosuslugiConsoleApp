![image](https://github.com/user-attachments/assets/56e0c112-248f-4d1b-a141-7ba05fb3e56a)



# Описание таблиц базы данных

---

## `users` — Пользователи  
Таблица пользователей. Хранит данные всех пользователей системы. Объединяет **граждан**, **госслужащих** и **администраторов**:

- `id` — первичный ключ.  
- `full_name` — имя, фамилия, отчество.  
- `login` — логин.  
- `password` — хэш пароля.  
- `role` — определяет права: `citizen`, `civilservant`, `admin`.  

**Связи:**

- 1 пользователь может подавать много заявок (`applications.user_id`).  
- 1 пользователь может иметь много параметров (`user_parameters.user_id`).  
- 1 пользователь с ролью `admin` может редактировать много услуг (`services.modified_by`).

---

## `services` — Услуги  
Таблица с описанием предоставляемых услуг.

- `id` — первичный ключ.  
- `title` — название услуги.  
- `description` — описание услуги.  
- `start_date` — дата начала действия услуги.  
- `end_date` — дата окончания действия услуги.  
- `modified_by` — внешний ключ на `users.id` (администратор, роль `admin`), который редактировал услугу.  

**Связи:**

- 1 услуга связана с множеством заявок (`applications.service_id`).  
- 1 услуга содержит множество правил (`rules.service_id`).  
- `modified_by` ссылается на `users(id)` с ролью `admin`.

---

## `applications` — Заявки  
Содержит информацию о подаче заявки гражданином на получение услуги.

- `id` — первичный ключ.  
- `user_id` — внешний ключ на `users.id` (роль `citizen`).  
- `service_id` — внешний ключ на `services.id`.  
- `submission_date` — дата подачи заявки.  
- `status` — статус заявки.  
- `result` — текст с результатом рассмотрения.  
- `completion_date` — дата завершения обработки заявки.  
- `deadline` — планируемый срок исполнения заявки.  

**Связи:**

- N заявок связано с 1 пользователем (`user_id`).  
- N заявок связано с 1 услугой (`service_id`).

---

## `parameter_types` — Типы параметров  
Описывает параметры, которые могут использоваться пользователями или в правилах.

- `id` — первичный ключ.  
- `name` — название параметра (например, `"ИНН"`, `"Гражданство"`).  
- `value_type` — тип значения: `string`, `int`, `date` и т.п.  

**Связи:**

- 1 тип параметра может использоваться во многих параметрах пользователей (`user_parameters.parameter_type_id`).  
- 1 тип параметра может участвовать во многих правилах (`rules.parameter_type_id`).

---

## `user_parameters` — Значения параметров пользователей  
Хранит конкретные параметры, указанные пользователями.

- `id` — первичный ключ.  
- `user_id` — внешний ключ на `users.id`.  
- `parameter_type_id` — внешний ключ на `parameter_types.id`.  
- `value` — строковое представление значения (парсится согласно `value_type`).  

**Связи:**

- N параметров пользователя связано с 1 пользователем (`user_id`).  
- N параметров пользователя связано с 1 типом параметра (`parameter_type_id`).

---

## `rules` — Правила оказания услуг  
Правила и ограничения, применяемые к параметрам пользователей для получения услуг.

- `id` — первичный ключ.  
- `service_id` — внешний ключ на `services.id`.  
- `parameter_type_id` — внешний ключ на `parameter_types.id`.  
- `description` — описание условия или ограничения.  
- `value` — значение для сравнения.  
- `operator` — оператор сравнения.  
- `deadline_interval` — интервал времени, который добавляется к дате подачи заявки для срока оказания услуги.  

**Связи:**

- N правил связано с 1 услугой (`service_id`).  
- N правил связано с 1 типом параметра (`parameter_type_id`).
